<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Voltrix | Coin Creation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous"/>
  <script src="https://unpkg.com/@solana/web3.js@v1.33.0/lib/index.iife.js"></script>
  <style>
  
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="./images/logo.png" alt="SOL Logo" />
      <span class="sol-text">
        <img src="./images/voltrix.png" alt="Voltrix Logo" style="height: 1.5rem;" />
      </span>
    </div>
  </header><br>

  <a href="javascript:history.back()" class="back-button">
    <i class="fas fa-arrow-left"></i> Back
  </a>

  <section class="coin-maker-container neon-box">
    <h1 style="text-align: center;">
      <span class="highlight">ðŸš€</span> Create a Coin to <span class="highlight">Rug</span>
    </h1><br>
    <form class="coin-form" id="coinForm">
      <input type="text" placeholder="Name (e.g. Voltrix)" required />
      <input type="text" placeholder="Ticker (e.g. VTRX)" required />
      <input type="number" placeholder="Token Supply (e.g. 1000000000)" required />
      <input type="text" placeholder="Description (optional)" />
      <input type="url" placeholder="Image URL (optional)" />
    <button id="connectWallet" class="creat-button" style="letter-spacing: 2px;">
  <b>Create Coin</b>
</button>

    </form>

  </section>

  <div class="wallet-popup" id="walletPopup">
  <div class="wallet-modal">
    <div class="wallet-close" id="closePopup"><i class="fas fa-times"></i></div>
    <i class="fas fa-wallet"></i>
    <h2><span class="highlight">Connect Wallet</span></h2>
    <p>To deploy your coin, please connect your wallet securely using Voltrix.</p>
<div id="connect_button" style="display: flex; justify-content: center; align-items: center;"></div>



</div>
</div>
  <div id="root"></div>

<script>
  const popup = document.getElementById('walletPopup');
  const openBtn = document.getElementById('connectWallet');
  const closeBtn = document.getElementById('closePopup');
  const targetNode = document.getElementById('connect_button');

  // Open wallet popup
  openBtn.addEventListener('click', function (e) {
    e.preventDefault();
    popup.classList.add('show-popup');
  });

  // Close manually
  closeBtn.addEventListener('click', function () {
    popup.classList.remove('show-popup');
  });

  // Auto-close on WalletMultiButton click
  const observer = new MutationObserver(() => {
    const walletButton = targetNode.querySelector('button');
    if (walletButton) {
      walletButton.addEventListener('click', () => {
        popup.classList.remove('show-popup');
      });
      observer.disconnect();
    }
  });

  observer.observe(targetNode, { childList: true, subtree: true });
</script>


</body>
</html>
